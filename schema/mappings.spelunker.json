{
  "settings": {
    "analysis": {
      "analyzer": {
        "machinetag-path-analyzer": {
          "type": "custom",
          "tokenizer": "machinetag-path-tokenizer"
        }
      },
      "tokenizer": {
        "machinetag-path-tokenizer": {
          "type": "path_hierarchy",
          "delimiter": "/"
        }
      }
    }
  },
  "mappings" : {
    "_default_": {
	"dynamic_templates": [
	    { "names_x": {
                "match":              "name:*_x_*", 
                "match_mapping_type": "string",
                "mapping": {
                    "type":           "string",
                    "copy_to":       "names_all"
                }
            }},
	    { "names_preferred": {
                "match":              "name:*_x_preferred", 
                "match_mapping_type": "string",
                "mapping": {
                    "type":           "string",
                    "copy_to":       "names_preferred"
                }
            }},
	    { "names_variant": {
                "match":              "name:*_x_variant", 
                "match_mapping_type": "string",
                "mapping": {
                    "type":           "string",
                    "copy_to":       "names_variant"
                }
            }},
	    { "names_colloquial": {
                "match":              "name:*_x_colloquial", 
                "match_mapping_type": "string",
                "mapping": {
                    "type":           "string",
                    "copy_to":       "names_colloquial"
                }
            }},
	    { "latitude": {
                "match":              "*:latitude", 
                "match_mapping_type": "double",
                "mapping": {
                    "type":           "double"
                }
            }},
	    { "longitude": {
                "match":              "*:longitude", 
                "match_mapping_type": "double",
                "mapping": {
                    "type":           "double"
                }
            }},
	    { "misc": {
                "match":              "misc:*", 
                "match_mapping_type": "string",
                "mapping": {
                    "type":           "string"
                }
            }},
	    { "zetashapes": {
                "match":              "zs:*", 
                "match_mapping_type": "string",
                "mapping": {
                    "type":           "string"
                }
            }}
	],
	"properties" : {
	    "categories_all": {
		"type" : "string",
		"index_analyzer": "machinetag-path-analyzer",
		"search_analyzer": "keyword"
	    },
            "names_all" : {
		"type" : "string"
            },
            "names_colloquial" : {
		"type" : "string"
            },
            "names_preferred" : {
		"type" : "string"
            },
            "names_variant" : {
		"type" : "string"
            },
            "name_not_analyzed" : {
		"type" : "string",
		"index" : "not_analyzed"
            },
	    "machinetags_all": {
		"type" : "string",
		"index_analyzer": "machinetag-path-analyzer",
		"search_analyzer": "keyword"
	    },
	    "tags_all": {
		"type" : "string",
		"index" : "not_analyzed"
	    },
            "edtf:cessation" : {
		"type" : "string"
            },
            "edtf:deprecated" : {
		"type" : "string"
            },
            "edtf:inception" : {
		"type" : "string"
            },
            "edtf:superseded" : {
		"type" : "string"
            },
            "geom:area" : {
		"type" : "double"
            },
            "geom:bbox" : {
		"type" : "string"
            },
            "geom:type" : {
		"type" : "string"
            },
            "geonames:id" : {
		"type" : "string"
            },
            "gn:elevation" : {
		"type" : "long"
            },
            "gn:id" : {
		"type" : "long"
            },
            "gn:population" : {
		"type" : "long"
            },
            "iso:country" : {
		"type" : "string"
            },
            "mz:is_funky" : {
		"type" : "integer"
            },
            "mz:is_landuse_aoi" : {
		"type" : "integer"
            },
            "mz:max_zoom" : {
		"type" : "integer"
            },
            "mz:min_zoom" : {
		"type" : "integer"
            },
	    "sg:categories": {
		"type" : "string",
		"index_analyzer": "machinetag-path-analyzer",
		"search_analyzer": "keyword",
		"copy_to": "categories_all",
		"copy_to": "machinetags_all"
	    },
	    "sg:classifiers.category": {
		"type" : "string",
		"index" : "not_analyzed"
	    },
	    "sg:classifiers.subcategory": {
		"type" : "string",
		"index" : "not_analyzed"
	    },
	    "sg:classifiers.type": {
		"type" : "string",
		"index" : "not_analyzed"
	    },
	    "sg:tags.type": {
		"type" : "string",
		"index" : "not_analyzed",
		"copy_to": "tags_all"
	    },
            "qs:a0" : {
		"type" : "string"
            },
            "qs:a0_lc" : {
		"type" : "string"
            },
            "qs:a1" : {
		"type" : "string"
            },
            "qs:a1_alt" : {
		"type" : "string"
            },
            "qs:a1_lc" : {
		"type" : "string"
            },
            "qs:a1r" : {
		"type" : "string"
            },
            "qs:a1r_lc" : {
		"type" : "string"
            },
            "qs:a2" : {
		"type" : "string"
            },
            "qs:a2_alt" : {
		"type" : "string"
            },
            "qs:a2_lc" : {
		"type" : "string"
            },
            "qs:a2r" : {
		"type" : "string"
            },
            "qs:adm0" : {
		"type" : "string"
            },
            "qs:id" : {
		"type" : "string"
            },
            "qs:la" : {
		"type" : "string"
            },
            "qs:la_lc" : {
		"type" : "string"
            },
            "qs:level" : {
		"type" : "string"
            },
            "qs:loc" : {
		"type" : "string"
            },
            "qs:loc_alt" : {
		"type" : "string"
            },
            "qs:loc_lc" : {
		"type" : "string"
            },
            "qs:pop" : {
		"type" : "string"
            },
            "qs:source" : {
		"type" : "string"
            },
            "qs:type" : {
		"type" : "string"
            },
            "src:geom" : {
		"type" : "string"
            },
            "src:lbl:centroid" : {
		"type" : "string"
            },
            "wof:belongsto" : {
		"type" : "long"
            },
            "wof:breaches" : {
		"type" : "long"
            },
	    "wof:categories": {
		"type" : "string",
		"index_analyzer": "machinetag-path-analyzer",
		"search_analyzer": "keyword",
		"copy_to": "categories_all",
		"copy_to": "machinetags_all"
	    },
            "wof:concordances" : {
		"properties" : {
		    "dbp:id" : {
			"type" : "string"
		    },
		    "fb:id" : {
			"type" : "string"
		    },
		    "fct:id" : {
			"type" : "string"
		    },
		    "gn:id" : {
			"type" : "long"
		    },
		    "gp:id" : {
			"type" : "long"
		    },
		    "loc:id" : {
			"type" : "string"
		    },
		    "nyt:id" : {
			"type" : "string"
		    },
		    "qs:id" : {
			"type" : "string"
		    },
		    "tgn:id" : {
			"type" : "string"
		    },
		    "wd:id" : {
			"type" : "string"
		    }
		}
            },
            "wof:concordances_count" : {
		"type" : "long"
            },
            "wof:country" : {
		"type" : "string"
            },
            "wof:geomhash" : {
		"type" : "string"
            },
            "wof:hierarchy" : {
		"properties" : {
		    "continent_id" : {
			"type" : "long"
		    },
		    "country_id" : {
			"type" : "long"
		    },
		    "county_id" : {
			"type" : "long"
		    },
		    "dependency_id" : {
			"type" : "long"
		    },
		    "disputed_id" : {
			"type" : "long"
		    },
		    "localadmin_id" : {
			"type" : "long"
		    },
		    "locality_id" : {
			"type" : "long"
		    },
		    "macrocounty_id" : {
			"type" : "long"
		    },
		    "macroregion_id" : {
			"type" : "long"
		    },
		    "region_id" : {
			"type" : "long"
		    }
		}
            },
            "wof:id" : {
		"type" : "long"
            },
            "wof:lang" : {
		"type" : "string"
            },
            "wof:lastmodified" : {
		"type" : "long"
            },
            "wof:megacity" : {
		"type" : "long"
            },
            "wof:name" : {
		"type" : "string",
		"copy_to" : [ "names_all", "name_not_analyzed" ]
            },
            "wof:parent_id" : {
		"type" : "long"
            },
            "wof:placetype" : {
		"type" : "string"
            },
            "wof:placetype_id" : {
		"type" : "long"
            },
            "wof:scale" : {
		"type" : "long"
            },
            "wof:supersedes" : {
		"type" : "long"
            },
            "wof:tags" : {
		"type" : "string",
		"index" : "not_analyzed",
		"copy_to": "tags_all"
            }
	}
    }
  }
}
